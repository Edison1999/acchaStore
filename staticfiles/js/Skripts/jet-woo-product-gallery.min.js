!(function (t, e) {
  "use strict";
  var o = {
    init: function () {
      var i = o,
        a = {
          "jet-woo-product-gallery-grid.default": i.productGalleryGrid,
          "jet-woo-product-gallery-modern.default": i.productGalleryModern,
          "jet-woo-product-gallery-anchor-nav.default":
            i.productGalleryAnchorNav,
          "jet-woo-product-gallery-slider.default": i.productGallerySlider,
        };
      t.each(a, function (t, o) {
        e.hooks.addAction("frontend/element_ready/" + t, o);
      }),
        t(document).on("show_variation", function (t, e) {
          i.showVariationImage(e);
        }),
        t(document).on("reset_image", function (t, e) {
          i.showVariationImage(e);
        });
    },
    showVariationImage: function (e) {
      var o = t(document).find(".product").find(".jet-woo-product-gallery");
      t.each(o, function () {
        var o = t(this).data("variation-images"),
          i = t(this).find(".jet-woo-slick").data("slick-settings");
        if (void 0 !== i && i["enable-infinite-loop"])
          var a = t(this).find(
              '.jet-woo-product-gallery__image-item[data-slick-index = "0"]'
            ),
            r = t(this).find(
              '.jet-woo-slick-control-thumbs__item[data-slick-index = "0"] img'
            );
        else
          (a = t(this).find(".jet-woo-product-gallery__image-item").eq(0)),
            (r = t(this).find(".jet-woo-slick-control-thumbs__item:eq(0) img"));
        var n = a.find(".wp-post-image"),
          l = a.find("a").eq(0);
        if (e && e.image && e.image.src && e.image.src.length > 1) {
          var s = o[e.image_id];
          !(function (t, e) {
            n.wc_set_variation_attr("src", e.src),
              n.wc_set_variation_attr("height", e.src_h),
              n.wc_set_variation_attr("width", e.src_w),
              n.wc_set_variation_attr("srcset", e.srcset),
              n.wc_set_variation_attr("sizes", e.sizes),
              n.wc_set_variation_attr("title", t.image.title),
              n.wc_set_variation_attr("data-caption", t.image.caption),
              n.wc_set_variation_attr("alt", t.image.alt),
              n.wc_set_variation_attr("data-src", e.full_src),
              n.wc_set_variation_attr("data-large_image", e.full_src),
              n.wc_set_variation_attr("data-large_image_width", e.full_src_w),
              n.wc_set_variation_attr("data-large_image_height", e.full_src_h),
              a.wc_set_variation_attr("data-thumb", e.src),
              l.wc_set_variation_attr("href", t.image.full_src),
              r.wc_set_variation_attr("src", t.image.src),
              r.wc_set_variation_attr("width", t.image.src_w),
              r.wc_set_variation_attr("height", t.image.src_h),
              r.wc_set_variation_attr("srcset", "");
          })(e, s);
        } else n.wc_reset_variation_attr("src"), n.wc_reset_variation_attr("width"), n.wc_reset_variation_attr("height"), n.wc_reset_variation_attr("srcset"), n.wc_reset_variation_attr("sizes"), n.wc_reset_variation_attr("title"), n.wc_reset_variation_attr("data-caption"), n.wc_reset_variation_attr("alt"), n.wc_reset_variation_attr("data-src"), n.wc_reset_variation_attr("data-large_image"), n.wc_reset_variation_attr("data-large_image_width"), n.wc_reset_variation_attr("data-large_image_height"), a.wc_reset_variation_attr("data-thumb"), r.wc_reset_variation_attr("src"), r.wc_reset_variation_attr("width"), r.wc_reset_variation_attr("height"), l.wc_reset_variation_attr("href");
      }),
        t(document).trigger("jet-woo-gallery-variation-image-change");
    },
    productGallerySlider: function (e) {
      var i = e.find(".jet-woo-slick"),
        a = i.data("slick-settings"),
        r = i.find(".jet-woo-product-gallery__image-item").length,
        n = r > 1 && a["show-pagination"] && "bullets" === a["pagination-type"],
        l =
          r > 1 &&
          a["show-pagination"] &&
          "thumbnails" === a["pagination-type"],
        s = e.find(".jet-woo-slick-control-thumbs"),
        c = t(s).find(".jet-woo-slick-control-thumbs__item").length;
      t(i).on("init", function (t, i) {
        o.productGallery(e);
      }),
        t(document).on("jet-woo-gallery-variation-image-change", function () {
          t(i).slick("slickGoTo", 0),
            t(s).find(".slick-slide").removeClass("slick-current"),
            t(s).find(".slick-slide").first().addClass("slick-current");
        }),
        l &&
          (t(s).slick({
            slidesToShow: a["thumbnails-columns"],
            slidesToScroll: 1,
            vertical: "vertical" === a["pagination-direction"],
            arrows: !0,
            fade: !1,
            infinite: a["enable-infinite-loop"],
            asNavFor:
              a["slider-enable-syncing"] &&
              a["thumbnails-columns"] < c &&
              a["enable-infinite-loop"]
                ? i
                : "",
            dots: !1,
            adaptiveHeight: !1,
            nextArrow: a["thumbnails-slider-next-arrow"],
            prevArrow: a["thumbnails-slider-prev-arrow"],
            rtl: "vertical" !== a["pagination-direction"] && a.rtl,
            responsive: [
              {
                breakpoint: 992,
                settings: {
                  slidesToShow: a["thumbnails-columns-tablet"]
                    ? a["thumbnails-columns-tablet"]
                    : a["thumbnails-columns"],
                },
              },
              {
                breakpoint: 767,
                settings: {
                  slidesToShow: a["thumbnails-columns-mobile"]
                    ? a["thumbnails-columns-mobile"]
                    : a["thumbnails-columns"],
                },
              },
            ],
          }),
          t(s)
            .find(".slick-slide")
            .on("click", function () {
              var e = t(this),
                o = e.data("slick-index");
              e.siblings().removeClass("slick-current"),
                e.addClass("slick-current"),
                t(i).slick("slickGoTo", o);
            })),
        t(i).slick({
          centerMode: a["enable-center-mode"],
          slidesToShow:
            a["center-mode-slides"] && a["enable-center-mode"]
              ? a["center-mode-slides"]
              : 1,
          centerPadding: a["enable-center-mode"]
            ? a["center-mode-padding"].size + a["center-mode-padding"].unit
            : "0px",
          slidesToScroll: 1,
          touchThreshold: a["slider-sensitivity"],
          arrows: a["show-navigation"],
          fade: !1,
          infinite: a["enable-infinite-loop"],
          asNavFor:
            a["slider-enable-syncing"] &&
            a["thumbnails-columns"] < c &&
            a["enable-infinite-loop"]
              ? s
              : "",
          dots: n,
          dotsClass: "jet-slick-dots",
          adaptiveHeight: !0,
          nextArrow: a["slider-next-arrow"],
          prevArrow: a["slider-prev-arrow"],
          rtl: a.rtl,
          responsive: [
            {
              breakpoint: 992,
              settings: {
                slidesToShow:
                  a["center-mode-slides-tablet"] && a["enable-center-mode"]
                    ? a["center-mode-slides-tablet"]
                    : 1,
              },
            },
            {
              breakpoint: 767,
              settings: {
                slidesToShow:
                  a["center-mode-slides-mobile"] && a["enable-center-mode"]
                    ? a["center-mode-slides-mobile"]
                    : 1,
              },
            },
          ],
        });
    },
    productGalleryGrid: function (t) {
      o.productGallery(t);
    },
    productGalleryModern: function (t) {
      o.productGallery(t);
    },
    productGalleryAnchorNav: function (e) {
      var i,
        a,
        r,
        n = e.find(".jet-woo-product-gallery__image-item"),
        l = e.find(".jet-woo-product-gallery-anchor-nav-items"),
        s = e.find(".jet-woo-product-gallery-anchor-nav-controller"),
        c = s.find("li a"),
        d = [],
        u = !1,
        _ = 0,
        m = 0,
        p = t("#wpadminbar");
      function g() {
        t(n).each(function () {
          var e = t(this).attr("id");
          d[e] = t(this).offset().top;
        });
      }
      function w() {
        for (var e in d)
          m >= d[e] - _ &&
            (t(s).find("a.current-item").removeClass("current-item"),
            t(s)
              .find('a[data-index="' + e + '"]')
              .addClass("current-item"));
      }
      p.length && (_ = p.outerHeight()),
        o.productGallery(e),
        g(),
        (i = !1),
        (a = !1),
        (r = !1),
        t(window).on("scroll", function () {
          var e = t(window).scrollTop(),
            o = t(l).outerHeight(!0),
            n = t(s).outerHeight(!0),
            c = t(l).offset().top,
            d = t(s).offset().top,
            u = c + o,
            m = d + n;
          u - n - _ <= e ||
            (!0 === a && !1 === r && t(s).css({ top: e - c + _ + "px" }),
            e < d &&
              e < m &&
              ((i = !1), (a = !0), t(s).css({ top: e - c + _ + "px" })),
            !1 === i && e > c && ((i = !0), (a = !0), (r = !1)),
            !1 === i &&
              c > e &&
              ((i = !1), (a = !1), (r = !1), t(s).removeAttr("style")));
        }),
        t(window).scroll(function () {
          u || (g(), (m = t(document).scrollTop()), w());
        }),
        (m = t(document).scrollTop()),
        w(),
        t(c).on("click", function () {
          w();
          var e = t(this).data("index"),
            o = d[e];
          if (
            ((u = !0),
            t(s).find("a.current-item").removeClass("current-item"),
            t(this).addClass("current-item"),
            e,
            t(this).parents().hasClass("quick-view-product"))
          ) {
            let e = t(this).closest(".jet-popup__container-inner");
            t(e).animate(
              { scrollTop: o - t(e).offset().top + 1 },
              "fast",
              function () {
                u = !1;
              }
            );
          } else
            t("html, body").animate(
              { scrollTop: o - _ + 1 },
              "fast",
              function () {
                u = !1;
              }
            );
          return !1;
        });
    },
    productGallery: function (e) {
      var o = e.data("id"),
        i = e.find(".jet-woo-product-gallery").data("gallery-settings"),
        a = e.find(
          ".jet-woo-product-gallery__image:not(.image-with-placeholder)"
        ),
        r = e.find(".jet-woo-product-gallery__image--with-zoom"),
        n = j(),
        l = e.find(".jet-woo-product-gallery__trigger"),
        s = {
          mainClass: "jet-woo-product-gallery-" + o,
          captionEl: i.caption ? i.caption : "",
          fullscreenEl: !!i.fullscreen && i.fullscreen,
          zoomEl: !!i.zoom && i.zoom,
          shareEl: !!i.share && i.share,
          counterEl: !!i.counter && i.counter,
          arrowEl: !!i.arrows && i.arrows,
          closeOnScroll: !1,
        },
        c = t(".jet-woo-product-gallery-pswp")[0],
        d = e.find(".jet-woo-product-video__popup-button"),
        u = e.find(".jet-woo-product-video__popup-overlay"),
        _ = e.find(".jet-woo-product-video-iframe"),
        m = !!_[0] && _[0].src,
        p = e.find(".jet-woo-product-video-player")[0],
        g = e.find(".jet-woo-product-video-mejs-player"),
        w = g.data("controls") || [
          "playpause",
          "current",
          "progress",
          "duration",
          "volume",
          "fullscreen",
        ],
        f = e.find(".jet-woo-product-video__overlay"),
        h = f.length > 0,
        v = i.videoAutoplay,
        y = i.videoFirst;
      function b() {
        var e = !1,
          o = { magnify: i.zoomMagnify, touch: !1 };
        r.each(function (o, i) {
          var a = t(i).find("img"),
            r = a.parent().width();
          a.data("large_image_width") > r && (e = !0);
        }),
          e &&
            ("ontouchstart" in document.documentElement && (o.on = "click"),
            r.trigger("zoom.destroy"),
            r.zoom(o));
      }
      function j() {
        var e = [];
        return (
          a.length > 0 &&
            a.each(function (o, i) {
              var a = t(i).find("img");
              if (a.length) {
                var r = {
                  src: a.attr("data-large_image"),
                  w: a.attr("data-large_image_width"),
                  h: a.attr("data-large_image_height"),
                  title: a.attr("data-caption")
                    ? a.attr("data-caption")
                    : a.attr("title"),
                };
                e.push(r);
              }
            }),
          e
        );
      }
      i.enableGallery &&
        (l.on("click.JetWooProductGallery", function (o) {
          if (
            (o.preventDefault(), t("body").hasClass("elementor-editor-active"))
          )
            return;
          var i = t(o.target),
            a = e
              .find(".jet-woo-product-gallery__image-item.featured")
              .hasClass("no-image"),
            r = i.parents(".jet-woo-product-gallery__image-item"),
            l = t(r).index();
          (a || y) && (l -= 1);
          (s.index = l), new PhotoSwipe(c, PhotoSwipeUI_Default, n, s).init();
        }),
        t(document).on("jet-woo-gallery-variation-image-change", function () {
          n = j();
        })),
        i.enableZoom &&
          (b(), t(document).on("jet-woo-gallery-variation-image-change", b)),
        i.hasVideo &&
          (function () {
            switch (i.videoIn) {
              case "content":
                f[0] &&
                  (f.on("click.JetWooProductGallery", function (t) {
                    p && (p.play(), f.remove(), (h = !1)), _[0] && o();
                  }),
                  v && _[0] && o()),
                  p &&
                    t(p).on("play.JetWooProductGallery", function (t) {
                      h && (f.remove(), (h = !1));
                    }),
                  g[0] && e();
                break;
              case "popup":
                e(),
                  d.on("click.JetWooProductGallery", function (t) {
                    !(function () {
                      d
                        .siblings(".jet-woo-product-video__popup-content")
                        .addClass("jet-woo-product-video__popup--show"),
                        p && (p.play(), v || (p.pause(), (p.currentTime = 0)));
                      _[0] &&
                        ((_[0].src = m),
                        v &&
                          (_[0].src = _[0].src.replace(
                            "&autoplay=0",
                            "&autoplay=1"
                          )));
                    })();
                  }),
                  u.on("click.JetWooProductGallery", function (t) {
                    !(function () {
                      d
                        .siblings(".jet-woo-product-video__popup-content")
                        .removeClass("jet-woo-product-video__popup--show"),
                        _[0] && (_[0].src = "");
                      p && ((p.currentTime = 0), p.pause());
                    })();
                  });
            }
            function e() {
              g.mediaelementplayer({
                videoVolume: "horizontal",
                hideVolumeOnTouchDevices: !1,
                enableProgressTooltip: !1,
                features: w,
                autoplay: !1,
              }).load();
            }
            function o() {
              v || (_[0].src = _[0].src.replace("&autoplay=0", "&autoplay=1")),
                f.remove(),
                (h = !1);
            }
          })(),
        t(".jet-woo-product-gallery__image-item")
          .find("img")
          .on("click", function (t) {
            t.preventDefault();
          });
    },
  };
  t(window).on("elementor/frontend/init", o.init);
})(jQuery, window.elementorFrontend);
